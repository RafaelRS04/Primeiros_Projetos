<html>
    <head>
        <meta charset="UTF-8">
        <title>Calculadora de IMC</title>
    </head>
    <body>
        <h1>Calculadora de IMC</h1>
        <strong>Um pouco mais sobre o IMC:</strong> o índice de massa corporal (IMC) é uma medida internacional usada para calcular se uma pessoa está no peso ideal.<br>
        Desenvolvido pelo polímata Lambert Quételet no fim do século XIX, trata-se de um método fácil e rápido para a avaliação do nível de gordura de cada pessoa,<br>
        sendo, por isso, um preditor internacional de obesidade adotado pela Organização Mundial da Saúde (OMS). Os valores considerados normais rondam em torno de<br>
        18.5 até 25, sendo valores menores que 18.5 considerados abaixo do ideal, e valores maiores que 25 considerados acima do ideal.<br>
        <br><hr size=2 /><br>
        <label for="inputPeso">Peso: </label><br>
        <input type="number" id="inputPeso" name="inputPeso" min="0" step=any><br>
        <label for="inputAltura">Altura:</label><br>
        <input type="number" id="inputAltura" name="inputAltura" min="0" step="0.01"><br><br>
        <button id="calcular" name="calcular" style="cursor: pointer" onclick="calculaImc()">Calcular</button>
        <button id="limpar" name="limpar" style="cursor: pointer" onclick="limpar()">Limpar</button><br><br>
        <output name="outputResultado"></output><br><br>
        
        <script>
            function calculaImc() {

                if (inputPeso.value && inputAltura.value && inputAltura.value != 0) {
                    inputPeso.value *= Math.sign(inputPeso.value);
                    inputAltura.value *= Math.sign(inputAltura.value);

                    var resultado = (inputPeso.value / inputAltura.value ** 2);
                    outputResultado.innerHTML = (inputPeso.value % inputAltura.value ** 2 == 0 ? resultado : resultado.toFixed(2)) + "Kg/m²<br><br>";
                    mostraCondicaoImc(resultado);
                } else {
                    alert("Erro: verifique se todos campos estão preenchidos e tente novamente!");
                    (!inputPeso.value ? inputPeso.focus() : inputAltura.focus()); 
                }
            }

            function mostraCondicaoImc(imcCalculado) {

                if (imcCalculado < 17) {
                    outputResultado.innerHTML += "Você está muito abaixo da faixa de peso ideal para a sua altura!<br>Invista em exercícios que gerem hipertrofia muscular e evite o excesso de exercícios aeróbicos. É importante também investir numa alimentação hipercalórica e rica em micronutrientes.<br>Caso não se sinta seguro, procure auxílio médico e um nutricionista.";
                } else if (imcCalculado >= 17 && imcCalculado < 18.5){
                    outputResultado.innerHTML += "Você está abaixo da faixa de peso ideal para a sua altura!<br>Invista em exercícios que gerem hipertrofia muscular e evite o excesso de exercícios aeróbicos. É importante também investir numa alimentação hipercalórica e rica em micronutrientes.<br>Caso não se sinta seguro, procure auxílio médico e um nutricionista.";
                } else if (imcCalculado >= 18.5 && imcCalculado < 25) {
                    outputResultado.innerHTML += "Parabéns, você está na faixa de peso ideal para a sua altura!<br>Caso não pratique exercícios, invista pelo menos 1 hora do seu dia à prática de atividades físicas. Também é importante manter uma alimentação equilibrada e rica em micronutrientes.<br>Caso não se sinta seguro, procure auxílio médico e um nutricionista.";
                } else if (imcCalculado >= 25 && imcCalculado < 30) {
                    outputResultado.innerHTML += "Seu peso está acima da faixa de peso ideal para a sua altura, caracterizando Sobrepeso!<br>Invista principalmente em exercícios aeróbicos e reserve pelo menos 1 hora do seu dia à prática de atividades físicas. É importante que você tenha uma alimentação hipocalórica e rica em micronutrientes.<br>Caso não se sinta seguro, procure auxílio médico e um nutricionista.";
                } else if (imcCalculado >= 30 && imcCalculado < 35) {
                    outputResultado.innerHTML += "Seu peso está acima da faixa de peso ideal para a sua altura, caracterizando Obesidade Nível 1!<br>Nesse caso é recomendado procurar um nutricionista e auxílio médico antes de qualquer coisa.";
                } else if (imcCalculado >= 35 && imcCalculado < 40) {
                    outputResultado.innerHTML += "Seu peso está acima da faixa de peso ideal para a sua altura, caracterizando Obesidade Nível 2 (Severa)!<br>Nesse caso é recomendado procurar um nutricionista e auxílio médico antes de qualquer coisa e o quanto antes.";
                } else if (imcCalculado > 40) {
                    outputResultado.innerHTML += "Seu peso está acima da faixa de peso ideal para a sua altura, caracterizando Obesidade Nível 3 (Mórbida)!<br>Nesse caso é recomendado procurar um nutricionista e auxílio médico urgentemente.";
                }
            }

            function limpar() {

                inputPeso.value = "";
                inputAltura.value = "";
                outputResultado.value= "";
                inputPeso.focus();
            }

            var inputPeso = document.querySelector("[name='inputPeso']");
            var inputAltura = document.querySelector("[name='inputAltura']");
            var outputResultado = document.querySelector("[name='outputResultado']");

            inputPeso.focus();
        </script>
    </body>
</html>
